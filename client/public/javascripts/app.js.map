{"version":3,"sources":["app/application.coffee","app/collections/file_collection.coffee","app/collections/playlist.coffee","app/collections/playlist_collection.coffee","app/collections/playqueue.coffee","app/collections/track_collection.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/view_collection.coffee","app/models/playlist.coffee","app/models/track.coffee","app/models/uploader_model.coffee","app/router.coffee","app/views/class/app_view.coffee","app/views/class/off_screen_nav.coffee","app/views/class/player/player.coffee","app/views/class/player/volumeManager.coffee","app/views/class/playlist/playlist.coffee","app/views/class/playlist/playlist_item.coffee","app/views/class/playlist_nav_view.coffee","app/views/class/playqueue/playqueue.coffee","app/views/class/playqueue/playqueue_item.coffee","app/views/class/top_nav.coffee","app/views/class/track/tracks.coffee","app/views/class/track/tracks_item.coffee","app/views/class/tracklist/tracklist.coffee","app/views/class/tracklist/tracklist_item.coffee","app/views/templates/home.jade","app/views/templates/off_screen_nav.jade","app/views/templates/player/player.jade","app/views/templates/player/volumeManager.jade","app/views/templates/playlist.jade","app/views/templates/playlist_item.jade","app/views/templates/playlist_nav.jade","app/views/templates/playqueue.jade","app/views/templates/playqueue_item.jade","app/views/templates/top_nav.jade","app/views/templates/tracklist.jade","app/views/templates/tracklist_item.jade","app/views/templates/tracks.jade","app/views/templates/tracks_item.jade"],"names":[],"mappings":"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;;ACAA;EAAA;iSAAA;;AAAA,WAAW,QAAQ,0BAAR,CAAX;;AAAA,MAEM,CAAC,OAAP,GAAuB;AAKnB;;;;GAAA;;AAAA,0CAAW,OAAX;;AAAA,8BACA,UAAS,IADT;;AAAA,8BAIA,WAAU,QAAQ,gCAAR,CAJV;;2BAAA;;GAL6C,SAFjD;;;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA","file":"public/javascripts/app.js","sourcesContent":["module.exports =\n\n    initialize: ->\n        # Used in inter-app communication\n        #SocketListener = require '../lib/socket_listener\n\n        # Routing management\n        Router = require 'router'\n        @router = new Router()\n\n        # create main track collection\n        TrackCollection = require 'collections/track_collection'\n        @tracks = new TrackCollection()\n        @tracks.fetch\n            error: =>\n                msg = \"Files couldn't be retrieved due to a server error.\"\n                alert msg\n\n        # create play queue\n        PlayQueue = require 'collections/playqueue'\n        @playQueue = new PlayQueue()\n\n        @selectedPlaylist = null\n\n        # initialize broadcast\n        @isBroadcastEnabled = false\n        # make sure the broadcast is disabled by defaut\n        $.ajax \"broadcast\",\n            type: 'DELETE'\n            error: (jqXHR, textStatus, errorThrown)->\n                console.log \"ajax fail : #{textStatus}\"\n\n        # initialize soundmanager\n        @soundManager = soundManager\n\n        @soundManager.setup\n            # disable or enable debug output\n            debugMode: false\n            debugFlash: false\n            useFlashBlock: false\n            # always prefer flash even for MP3/MP4 when HTML5 audio is available\n            preferFlash: true\n            # setup the display update rate while reading songs (in ms)\n            flashPollingInterval: 500\n            html5PollingInterval: 500\n            # path to directory containing SM2 SWF\n            url: \"swf/\"\n            # optional: enable MPEG-4/AAC support (requires flash 9)\n            flashVersion: 9\n            onready: ->\n                $('.player').trigger 'soundManager:ready'\n            ontimeout: ->\n                $('.player').trigger 'soundManager:timeout'\n\n        Backbone.history.start()\n","# **************************************************************************** #\n#                                                                              #\n#                                                         :::      ::::::::    #\n#    file_collection.coffee                             :+:      :+:    :+:    #\n#                                                     +:+ +:+         +:+      #\n#    By: ppeltier <ppeltier@student.42.fr>          +#+  +:+       +#+         #\n#                                                 +#+#+#+#+#+   +#+            #\n#    Created: 2015/06/03 19:00:31 by ppeltier          #+#    #+#              #\n#    Updated: 2015/06/06 18:53:31 by ppeltier         ###   ########.fr        #\n#                                                                              #\n# **************************************************************************** #\n\nFile    = require '../models/file'\n\nmodule.exports = class FileCollection extends Backbone.Collection\n    model: File\n    url: 'test'\n\n    initialize: ->\n        console.log \"collection created\"\n","Track = require '../models/track'\n\nmodule.exports = class PlaylistTrackCollection extends Backbone.Collection\n\n    # Model that will be contained inside the collection.\n    model: Track\n\n    getWeight: (playlists)=>\n        for elem in playlists\n            if elem.id is @playlistId\n                return elem.weight\n        return false\n\n    add: (track, superOnly = false, options)=>\n        return super(track, options) if superOnly\n        if @size() > 0\n            last = @last()\n            lastWeight = @getWeight last.attributes.playlists\n        else\n            lastWeight = 0\n        track.sync 'update', track,\n            url: \"#{@url}/#{track.id}/#{lastWeight}\"\n            error: (xhr)=>\n                msg = JSON.parse xhr.responseText\n                alert \"fail to add track : #{msg.error}\"\n            success: (playlists)=>\n                track.attributes.playlists = playlists\n\n        # avoiding calling super if an error occured\n        @listenToOnce track, 'sync', super\n\n    remove: (track, superOnly = false)->\n        return super(track) if superOnly\n        track.sync 'delete', track,\n            url: \"#{@url}/#{track.id}\"\n            error: (xhr)->\n                msg = JSON.parse xhr.responseText\n                alert \"fail to remove track : #{msg.error}\"\n        # avoiding calling super if an error occured\n        @listenToOnce track, 'sync', super\n\n    move: (newP, track)->\n        oldP = @indexOf(track)\n        return if newP is oldP\n        if newP is 0\n            prevWeight = 0\n        else\n            prev = if oldP < newP then @at(newP) else @at(newP-1)\n            prevWeight = @getWeight prev.attributes.playlists\n        if newP >= @indexOf(@last())\n            nextWeight = Math.pow 2,53\n        else\n            next = if oldP < newP then @at(newP+1) else @at(newP)\n            nextWeight = @getWeight next.attributes.playlists\n        track.sync 'update', track,\n            url: \"#{@url}/prev/#{prevWeight}/next/#{nextWeight}/#{track.id}\"\n            error: (xhr)->\n                msg = JSON.parse xhr.responseText\n                alert \"fail to move track : #{msg.error}\"\n            success: (playlists)=>\n                track.attributes.playlists = playlists\n        @remove track, true\n        @add track, true,\n            at: newP\n","Playlist = require '../models/playlist'\n\nmodule.exports = class PlaylistCollection extends Backbone.Collection\n\n    # Model that will be contained inside the collection.\n    model: Playlist\n\n    # This is where ajax requests the backend.\n    url: 'playlists'","Track = require '../models/track'\n\nmodule.exports = class PlayQueue extends Backbone.Collection\n\n    atPlay: 0\n\n    # Model that will be contained inside the collection.\n    model: Track\n\n    # This is where ajax requests the backend\n    # there is no backend here because it's en temporary list\n    #url: 'playqueue'\n\n    # playLoop is : 'no-repeat', 'repeat-all' or 'repeat-one'\n    playLoop: 'no-repeat'\n\n    # used for cases where view have to be signaled after change is done\n    viewHaveToBeSignaled = false\n\n    setAtPlay: (value, signalView=true)=>\n        @atPlay = value\n        if signalView\n            @trigger 'change:atPlay'\n        else\n            @viewHaveToBeSignaled = true\n\n    # return current track pointed by atPlay if it exist\n    getCurrentTrack: ->\n        if 0 <= @atPlay < @length\n            return @at(@atPlay)\n        # else there is no track in the queue yet\n        else\n            return null\n\n    # return next track, if there is no more track return null\n    getNextTrack: ->\n        if @playLoop is 'repeat-one'\n            return @at(@atPlay)\n        else if @atPlay < @length-1\n            @setAtPlay @atPlay+1\n            return @at(@atPlay)\n        else if @playLoop is 'repeat-all' and @length > 0\n            @setAtPlay 0\n            return @at(@atPlay)\n        else\n            return null\n\n    # return previous track, if this is the first track return null\n    getPrevTrack: ->\n        if @playLoop is 'repeat-one'\n            return @at(@atPlay)\n        else if @atPlay > 0\n            @setAtPlay @atPlay-1\n            return @at(@atPlay)\n        else if @playLoop is 'repeat-all' and @length > 0\n            @setAtPlay @length - 1\n            return @at(@atPlay)\n        else\n            return null\n\n    # add the track at the end of the collection\n    queue: (track)->\n        unless @get(track.id)\n            @push track,\n                sort: false\n        # if the track is in the playlist already,\n        # just move it to its new position\n        else\n            @moveItem track, @size()-1\n\n    # add the track at the index atPlay+1\n    pushNext: (track)->\n        unless @get(track.id)\n            if @length > 0\n                @add track,\n                    at : @atPlay+1\n            else\n                @add track\n        # if the track is in the playlist already,\n        # just move it to its new position\n        else\n            if @indexOf(track) < @atPlay\n                @moveItem track, @atPlay\n            else\n                @moveItem track, @atPlay+1\n\n    moveItem: (track, position)->\n        # first : update atPlay value\n        if @indexOf(track) == @atPlay\n            @setAtPlay position\n        else\n            if @indexOf(track) < @atPlay\n                @setAtPlay @atPlay-1\n            if position <= @atPlay\n                @setAtPlay @atPlay+1\n        # then : move the track\n        @remove track, false\n        @add track,\n            at: position\n\n    # update atPlay value then call remove on track\n    remove: (track, updateAtPlayValue = true)->\n        if updateAtPlayValue\n            if @indexOf(track) < @atPlay\n                @setAtPlay @atPlay-1, false\n            else if @indexOf(track) == @atPlay\n                id = track.get 'id'\n                Backbone.Mediator.publish 'track:delete', \"sound-#{id}\"\n                if @indexOf(track) is @indexOf(@last()) and @length > 1\n                    @setAtPlay @atPlay-1, false\n        super track\n        if @viewHaveToBeSignaled\n            @trigger 'change:atPlay'\n            @viewHaveToBeSignaled = false\n\n\n    playFromTrack: (track)->\n        index = @indexOf(track)\n        @setAtPlay index\n        Backbone.Mediator.publish 'track:play-from', track\n\n    deleteFromIndexToEnd: (index)->\n        @remove(@last()) while @indexOf(@last()) >= index\n\n    deleteFromBeginingToIndex: (index)->\n        count = if index < @length then index else @length\n        for i in [0..count]\n            @remove(@first())\n\n    # randomize the tracks following the track at play\n    randomize: ->\n        if @atPlay < @length-1\n            # this collection will content the queue end in shuffle order\n            tmp = new Backbone.Collection()\n            for i in [@atPlay+1..@length-1]\n                tmp.push @models[i]\n            tmp.reset tmp.shuffle()\n            # replace the end of the queue by the shuffled one\n            @remove(@last()) while @indexOf(@last()) > @atPlay\n            for i in [0..tmp.length-1]\n                @push tmp.models[i]\n\n    # debug function\n    show: ->\n        console.log \"atPlay : \"+@atPlay\n        console.log \"PlayQueue content :\"\n        if @length >= 1\n            for i in [0..@length-1]\n                curM = @models[i]\n                console.log @indexOf(curM)+\") \"+curM.attributes.title\n","Track = require '../models/track'\n\nmodule.exports = class TrackCollection extends Backbone.Collection\n\n    # Model that will be contained inside the collection.\n    model: Track\n\n    # This is where ajax requests the backend.\n    url: 'tracks'","app = require 'application'\n\n# The function called from index.html\n$ ->\n    require 'lib/app_helpers'\n\n    app.initialize()","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template(@getRenderData())\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    itemview: null\n\n    views: {}\n\n    template: -> ''\n\n    collectionEl: null\n\n    # add 'empty' class to view when there is no sub-view\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overridden if we want to place the sub-views somewhere else\n    appendView: (view) ->\n        index = @collection.indexOf view.model\n\n        if index is 0\n            @$collectionEl.prepend view.$el\n        else\n            if view.className?\n                className = \".#{view.className}\"\n            else\n                className = \"\"\n\n            if view.tagName?\n                tagName = view.tagName\n            else\n                tagName = \"\"\n            selector = \"#{tagName}#{className}:nth-of-type(#{index})\"\n            @$collectionEl.find(selector).after view.$el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        # When an item is added, removed or the view is rendered\n        @on \"change\", @onChange\n\n        if not @collectionEl?\n            collectionEl = el\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        super\n        @$collectionEl = $(@collectionEl)\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @trigger 'change'\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, {model: model}\n        view = new @itemview(options)\n        @views[model.cid] = view.render()\n        @appendView view\n        @trigger 'change'\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n        @trigger 'change'","# **************************************************************************** #\n#                                                                              #\n#                                                         :::      ::::::::    #\n#    playlist.coffee                                    :+:      :+:    :+:    #\n#                                                     +:+ +:+         +:+      #\n#    By: ppeltier <ppeltier@student.42.fr>          +#+  +:+       +#+         #\n#                                                 +#+#+#+#+#+   +#+            #\n#    Created: 2015/06/06 17:14:20 by ppeltier          #+#    #+#              #\n#    Updated: 2015/06/06 17:14:21 by ppeltier         ###   ########.fr        #\n#                                                                              #\n# **************************************************************************** #\n\nPlaylistTrackCollection = require '../collections/playlist'\napp = require 'application'\n\nmodule.exports = class Playlist extends Backbone.Model\n\n    # This field is required to know from where data should be loaded.\n    urlRoot: \"playlists\"\n\n    initialize: ->\n        super\n        @listenTo @, 'change:id', (e)=>\n            @tracks.playlistId = \"#{@id}\"\n            @tracks.url = \"playlists/#{@id}\"\n\n        @tracks = new PlaylistTrackCollection false,\n            url: \"playlists/#{@id}\"\n        @tracks.playlistId = \"#{@id}\"\n\n        if @id?\n            @tracks.fetch()\n        else\n            @listenToOnce @, 'sync', (e)=>\n                @tracks.fetch()\n\n    destroy: ->\n        # if this list is beeing displayed navigate to home\n        curUrl = \"#{document.URL}\"\n        str = \"#playlist/#{@id}\"\n        regex = new RegExp str\n        if curUrl.match regex\n            app.router.navigate '', true\n        # empty playlist\n        # this emptying method avoid us to encounter issues with indexes\n        until @tracks.length is 0\n            track = @tracks.first()\n            @tracks.remove track\n        # then destroy it\n        super\n        # return false, for the super to be call\n        false\n","# **************************************************************************** #\n#                                                                              #\n#                                                         :::      ::::::::    #\n#    track.coffee                                       :+:      :+:    :+:    #\n#                                                     +:+ +:+         +:+      #\n#    By: ppeltier <ppeltier@student.42.fr>          +#+  +:+       +#+         #\n#                                                 +#+#+#+#+#+   +#+            #\n#    Created: 2015/06/06 17:14:00 by ppeltier          #+#    #+#              #\n#    Updated: 2015/06/06 17:14:22 by ppeltier         ###   ########.fr        #\n#                                                                              #\n# **************************************************************************** #\n\nmodule.exports = class Track extends Backbone.Model\n\n    # This field is required to know from where data should be loaded.\n    urlRoot: 'tracks'\n\n    defaults: ->\n        # state can be :\n        #   'client', 'uploadStart', 'uploadEnd', 'server', 'canceled', 'importBegin'\n        state: 'server'\n\n    # patch Model.sync so it could trigger progress event\n    sync: (method, model, options)->\n        progress = (e)->\n            model.trigger('progress', e)\n\n        _.extend options,\n            xhr: ()->\n                xhr = $.ajaxSettings.xhr()\n                if xhr instanceof window.XMLHttpRequest\n                    xhr.addEventListener 'progress', progress, false\n                if xhr.upload\n                    xhr.upload.addEventListener 'progress', progress, false\n                xhr\n\n        Backbone.sync.apply @, arguments\n","app = require 'application'\nTrack = require 'models/track'\n\n# control file type\ncontrolFile = (track, cb)=>\n    # here soundManager.canPlayLink track.file will be good\n    # but it doesn't work with audio/mp4 on chrome\n    unless track.file.type.match /audio\\/(mp3|mpeg)/ # list of supported filetype\n        err = \"unsupported #{track.file.type} filetype\"\n    cb(err)\n\n# read metadata using a FileReader\nreadMetaData = (track, cb)=>\n    url = track.get 'title'\n    reader = new FileReader()\n    reader.onload = (event)=>\n        ID3.loadTags url, (=>\n            tags = ID3.getAllTags url\n            track.set\n                title: if tags.title? then tags.title else url\n                artist: if tags.artist? then tags.artist else ''\n                album: if tags.album? then tags.album else ''\n                track: if tags.track? then tags.track else ''\n                year: if tags.year? then tags.year else ''\n                genre: if tags.genre? then tags.genre else ''\n                time: if tags.TLEN?.data? then tags.TLEN.data else ''\n            cb()\n        ),\n            tags: [\"title\",\"artist\",\"album\",\"track\",\"year\",\"genre\",\"TLEN\"]\n            dataReader: FileAPIReader track.file\n    reader.readAsArrayBuffer track.file\n    reader.onabort = (event)=>\n        cb \"unable to read metadata\"\n\n# create a FormData object\n# save the model\nupload = (track, cb) =>\n    formdata = new FormData()\n    formdata.append 'cid', track.cid\n    formdata.append 'title', track.get 'title'\n    formdata.append 'artist', track.get 'artist'\n    formdata.append 'album', track.get 'album'\n    formdata.append 'track', track.get 'track'\n    formdata.append 'year', track.get 'year'\n    formdata.append 'genre', track.get 'genre'\n    formdata.append 'time', track.get 'time'\n    formdata.append 'file', track.file\n\n    # if the upload have been canceled don't proceed to upload\n    # return the callback with an error to stop the waterfall\n    if track.attributes.state is 'canceled'\n        return cb \"upload canceled\"\n\n    track.set\n        state: 'uploadStart'\n\n    track.sync 'create', track,\n        processData: false # tell jQuery not to process the data\n        contentType: false # tell jQuery not to set contentType (Prevent $.ajax from being smart)\n        data: formdata\n        success: (model)->\n            track.set model # to get the generated id\n            cb()\n        error: ->\n            cb(\"upload failed\")\n    false\n\nrefreshDisplay = (track, cb) =>\n    track.set\n        state: 'uploadEnd'\n    cb()\n\nuploadWorker = (track, done)=>\n    async.waterfall [\n        (cb) -> controlFile track, cb\n        (cb) -> readMetaData track, cb\n        (cb) -> upload track, cb\n        (cb) -> refreshDisplay track, cb\n    ], (err) ->\n        if err\n            done \"#{track.get('title')} not uploaded properly : #{err}\", track\n        else\n            done()\n\nclass   UploaderModel\n\n    # upload 3 by 3\n    uploadQueue: async.queue uploadWorker, 3\n\n    process: (track) ->\n        # signal trackList view\n        #Backbone.Mediator.publish 'uploader:addTracks'\n        # handle files\n            #Backbone.Mediator.publish 'uploader:addTrack'\n\n        @uploadQueue.push track , (err, track) =>\n            if err\n                console.log err\n\n                # remove the track(it's already done if upload was canceled)\n                #app.tracks.remove track\n\nmodule.exports = new UploaderModel()\n","AppView = require './views/class/app_view'\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        '': 'main'\n        'playqueue': 'playqueue'\n        'playlist/:playlistId': 'playlist'\n\n    initialize: ->\n        @mainView = new AppView()\n        @mainView.render()\n\n        #bind keyboard events\n        @lastSeen = null\n        @atHome = false\n        Mousetrap.bind 'v', @onVKey\n\n    onVKey: =>\n        # toggle between the home and last seen list view\n        if @atHome\n            if @lastSeen?\n                @navigate \"playlist/#{@lastSeen}\", true\n            else\n                @navigate \"playqueue\", true\n        else\n            @navigate \"\", true\n\n    main: ->\n        @atHome = true\n        @mainView.showTrackList()\n\n\n    # display the playlist view for an playlist with given id\n    # fetch before displaying it\n    playlist: (id)->\n        @atHome = false\n        @lastSeen = id\n        @mainView.showPlayList id\n\n    playqueue: ->\n        @atHome = false\n        @lastSeen = null\n        @mainView.showPlayQueue()\n","BaseView         = require 'lib/base_view'\nTopNav           = require './top_nav'\nTracks           = require './track/tracks'\nPlayQueue        = require './playqueue/playqueue'\nPlaylist         = require './playlist/playlist'\nPlayer           = require './player/player'\nOffScreenNav     = require './off_screen_nav'\napp              = require 'application'\n\nPlaylistCollection = require 'collections/playlist_collection'\n\nmodule.exports = class AppView extends BaseView\n\n    el: 'body.application'\n    template: require('views/templates/home')\n\n    #events:\n        #'drop #content': (e) ->\n            #return unless e.originalEvent?.dataTransfer?\n            #@topNav.onFilesDropped e\n        #'dragover' : (e) ->\n            #@topNav.onDragOver e\n        #'mouseover': (e) ->\n            #@topNav.onDragOut e\n\n    initialize: ->\n        super\n        Cookies.defaults =\n            expires: 604800 # = 1 week\n        @playList = {}\n        @currentPlaylistId = 0\n\n    afterRender: ->\n        super\n        # header\n        @topNav = new TopNav\n        @$('#top-nav').append @topNav.$el\n        @topNav.render()\n\n        @player = new Player()\n        @$('#player').append @player.$el\n        @player.render()\n        @playlistCollection = new PlaylistCollection()\n        @playlistCollection.fetch\n            success: (collection)=>\n                @offScreenNav = new OffScreenNav\n                    collection: collection\n                @$('#off-screen-nav').append @offScreenNav.$el\n                @offScreenNav.render()\n            error: =>\n                msg = \"Playlists couldn't be retrieved due to a server error.\"\n                alert msg\n\n        # prevent to leave the page if playing or uploading\n        window.onbeforeunload = =>\n            msg = \"\"\n            app.tracks.each (track)=>\n                state = track.attributes.state\n                if msg is \"\" and state isnt 'server'\n                    msg += \"upload will be cancelled \"\n\n            if not @player.isStopped and not @player.isPaused\n                msg += \"music will be stopped\"\n\n            if msg isnt \"\" and app.playQueue.length > 0\n                msg += \" & your queue list will be erased.\"\n\n            if msg isnt \"\"\n                return msg\n            else\n                return\n\n    showTrackList: =>\n        # append the main track list\n        if @queueList?\n            @queueList.beforeDetach()\n            @queueList.$el.detach()\n        if @playList[@currentPlaylistId]?\n            @playList[@currentPlaylistId].beforeDetach()\n            @playList[@currentPlaylistId].$el.detach()\n        unless @tracklist?\n            @tracklist = new Tracks\n                collection: app.tracks\n        @$('#tracks-display').append @tracklist.$el\n        @tracklist.render()\n        # update header and nav display\n        unless $('#top-nav-title-home').hasClass 'activated'\n            $('#top-nav-title-home').addClass 'activated'\n        $('#top-nav-title-list').removeClass 'activated'\n        @offScreenNav?.$('li.activated').removeClass 'activated'\n\n    showPlayQueue: =>\n        # append the play queue\n        if @tracklist?\n            @tracklist.beforeDetach()\n            @tracklist.$el.detach()\n        if @playList[@currentPlaylistId]?\n            @playList[@currentPlaylistId].beforeDetach()\n            @playList[@currentPlaylistId].$el.detach()\n        unless @queueList?\n            @queueList = new PlayQueue\n                collection: app.playQueue\n        @$('#tracks-display').append @queueList.$el\n        @queueList.render()\n        # update header and nav display\n        unless $('#top-nav-title-list').hasClass 'activated'\n            $('#top-nav-title-list').addClass 'activated'\n        $('#top-nav-title-home').removeClass 'activated'\n        @offScreenNav?.$('li.activated').removeClass 'activated'\n\n    showPlayList: (id)=>\n        # append the playlist\n        if @tracklist?\n            @tracklist.beforeDetach()\n            @tracklist.$el.detach()\n        if @queueList?\n            @queueList.beforeDetach()\n            @queueList.$el.detach()\n        if @playList[@currentPlaylistId]?\n            @playList[@currentPlaylistId].beforeDetach()\n            @playList[@currentPlaylistId].$el.detach()\n        @currentPlaylistId = id\n        @offScreenNav?.$('li.activated').removeClass 'activated'\n        playlistModel = @playlistCollection.get id\n        if playlistModel?\n            @appendPlaylist playlistModel\n        else\n            @listenToOnce @playlistCollection, 'sync', (collection)->\n                playlistModel = collection.get id\n                if playlistModel?\n                    @appendPlaylist playlistModel\n                else\n                    alert 'unable to get this playlist'\n                    if app.router.lastSeen is id\n                        app.router.lastSeen = null\n                    app.router.navigate '', true\n\n        # update header and nav display\n        $('#top-nav-title-list').removeClass 'activated'\n        $('#top-nav-title-home').removeClass 'activated'\n\n    appendPlaylist: (playlistModel)->\n        unless @playList[@currentPlaylistId]?\n            @playList[@currentPlaylistId] = new Playlist\n                collection: playlistModel.tracks\n        @$('#tracks-display').append @playList[@currentPlaylistId].$el\n        @playList[@currentPlaylistId].render()\n        cid = playlistModel.cid\n        @offScreenNav.views[cid].$('li').addClass 'activated'\n","###\n  Off screen nav view\n###\napp = require 'application'\nBaseView = require 'lib/base_view'\n#Playlist = require 'models/playlist'\n#PlaylistNavView = require './playlist_nav_view'\nViewCollection = require 'lib/view_collection'\n\nmodule.exports = class OffScreenNav extends ViewCollection\n\n    className: 'off-screen-nav'\n    tagName: 'div'\n    template: require('views/templates/off_screen_nav')\n\n    #itemview: PlaylistNavView\n    collectionEl: '#playlist-list'\n\n    magicCounterSensibility : 2\n    magicCounter : @magicCounterSensibility\n\n    events:\n        'click .add-playlist-button': 'onAddPlaylist'\n        'playlist-selected': 'onPlaylistSelected'\n        'playlist-unselected': 'unSelect'\n        'click' : (e) ->\n            @toggleNav()\n        'mousemove': (e) ->\n            unless @onScreen\n                @magicToggle e\n        'mouseleave': (e) ->\n            if @onScreen\n                @toggleNav()\n\n\n    initialize: (options)->\n        super\n        @listenTo @collection, 'remove', (playlist)->\n            # if this playlist is the selected playlist, update the app variable\n            if app.selectedPlaylist is playlist\n                @unSelect()\n\n    afterRender: =>\n        super\n        # adding scrollbar\n        @$('#playlist-list').niceScroll\n            cursorcolor: \"#fff\"\n            cursorborder: \"\"\n            cursorwidth: \"2px\"\n            hidecursordelay: \"700\"\n            horizrailenabled: false\n            spacebarenabled: false\n            enablekeyboard: false\n\n        @onScreen = @$('.off-screen-nav-content').hasClass 'off-screen-nav-show'\n\n    magicToggle: (e)=>\n        if e.pageX is 0\n            @magicCounter -= 1\n        else\n            @magicCounter = @magicCounterSensibility\n        if @magicCounter is 0\n            @magicCounter = @magicCounterSensibility\n            @toggleNav()\n\n    toggleNav: =>\n        @onScreen = !@onScreen\n        @$('.off-screen-nav-content').toggleClass 'off-screen-nav-show'\n        @updateDisplay()\n\n    updateDisplay: ->\n        if @$('.off-screen-nav-content').hasClass 'off-screen-nav-show'\n            @$('.off-screen-nav-toggle-arrow').addClass 'on'\n        else\n            @$('.off-screen-nav-toggle-arrow').removeClass 'on'\n\n    #onAddPlaylist: (event)->\n        #event.preventDefault()\n        #event.stopPropagation()\n        ## prompt to retrieve the title of the new playlist\n        #title = \"\"\n        #defaultMsg = \"Please enter the new playlist title :\"\n        #defaultVal = \"my playlist\"\n        #until title isnt \"\" and title.length < 50\n            #title = prompt defaultMsg, defaultVal\n            ## return if creation was canceled by user\n            #return unless title?\n            #defaultMsg = \"Invalid title, please try again :\"\n            #defaultVal = title\n\n        ## Data to be used to create the new model\n        #playlist = new Playlist\n            #title: title\n\n        ## Save it through collection, this will automatically add it to the\n        ## current list when request finishes.\n        #@collection.create playlist,\n            #success: (model)=>\n                ## auto-select the new playlist\n                #@views[model.cid].$('.select-playlist-button').trigger 'click'\n                #app.router.navigate '', true\n            #error: -> alert \"Server error occured, playlist wasn't created\"\n    onPlaylistSelected: (event, playlist)->\n        if app.selectedPlaylist?\n            @views[app.selectedPlaylist.cid].$('li').removeClass('selected')\n        app.selectedPlaylist = playlist\n        Backbone.Mediator.publish 'offScreenNav:newPlaylistSelected', playlist\n\n    unSelect: ->\n        app.selectedPlaylist = null\n        Backbone.Mediator.publish 'offScreenNav:newPlaylistSelected', null\n","###\n    Here is the player. This is the bridge beetween Soundmanager2 and Cozic.\n###\nBaseView        = require './../../../lib/base_view'\nVolumeManager   = require './volumeManager'\napp             = require 'application'\n\nmodule.exports = class Player extends BaseView\n\n    className: 'player'\n    tagName: 'div'\n    template: require('views/templates/player/player')\n\n    events:\n        'click #play-button': 'onClickPlay'\n        'click #rwd-button': 'onClickRwd'\n        'click #fwd-button': 'onClickFwd'\n        'mousedown .progress': 'onMouseDownProgress'\n        'click #loop-button': 'onClickLoop'\n        'click #random-button': 'onClickRandom'\n\n        'soundManager:ready': (e)->\n            @isLoading = false\n            @canPlay = true\n            @updatePlayButtonDisplay()\n        'soundManager:timeout': (e)->\n            @isLoading = false\n            @canPlay = false\n            @updatePlayButtonDisplay()\n\n    subscriptions:\n        # these events should be fired by tracklist_item view\n        'track:queue': 'onQueueTrack'\n        'tracks:queue': 'onQueueTrackMultiple'\n        'track:pushNext': 'onPushNext'\n        'tracks:pushNext': 'onPushNextMultiple'\n        'track:playImmediate': 'onPlayImmediate'\n        'track:play-from': (track)->\n            @onPlayTrack track\n\n        'track:delete': (soundId) ->\n            if @currentSound?.id is soundId\n                @stopTrack()\n\n        # these channels are shared with views/player/volumeManager.coffee\n        'volumeManager:toggleMute': 'onToggleMute'\n        'volumeManager:volumeChanged': 'onVolumeChange'\n\n    initialize: (options)->\n        @isStopped = true\n        @isPaused = false\n        @canPlay = false\n        @isLoading = true\n        super\n        # bind keyboard events\n        Mousetrap.bind 'space', @onClickPlay\n        Mousetrap.bind 'b', @onClickRwd\n        Mousetrap.bind 'n', @onClickFwd\n\n    afterRender: =>\n        super\n        # bind play button\n        @playButton = @$('#play-button')\n\n        # initializing variables related to volumeManager\n        if Cookies('defaultVolume')?\n            @volume = parseInt(Cookies('defaultVolume'))\n        else\n            @volume = 50\n        @isMuted = Cookies('isMuteByDefault')? and Cookies('isMuteByDefault') is \"true\"\n\n        # create, bind and display the volume bar\n        @volumeManager = new VolumeManager\n            initVol: @volume\n            initMute: @isMuted\n        @volumeManager.render()\n        @$('#volume').append @volumeManager.$el\n\n        # bind the progress bar\n        @elapsedTime = @$('#elapsedTime')\n        @remainingTime = @$('#remainingTime')\n        @progress = @$('.progress')\n        @progressInner = @$('.progress .inner')\n\n        # initializing variables\n        @currentSound = null\n        @progressInner.width \"0%\"\n        @elapsedTime.html \"&nbsp;0:00\"\n        @remainingTime.html \"&nbsp;0:00\"\n\n        @updatePlayButtonDisplay()\n\n    updatePlayButtonDisplay: =>\n        icon = @$('#play-button i')\n        icon.removeClass 'icon-warning-sign icon-play icon-pause icon-cogs'\n        icon.removeClass 'activated'\n        if @isLoading\n            icon.addClass 'icon-cogs'\n        else if not @canPlay\n            icon.addClass 'icon-warning-sign activated'\n        else if @isStopped or @isPaused\n            icon.addClass 'icon-play'\n        else\n            icon.addClass 'icon-pause'\n\n    onClickPlay: =>\n        if not @isLoading\n            if @canPlay\n                if @currentSound?\n                    if @isStopped\n                        @currentSound.play()\n                        @isStopped = false\n                    else if @isPaused\n                        @currentSound.play()\n                        @isPaused = false\n                    else if not @isPaused and not @isStopped # <=> isPlaying\n                        @currentSound.pause()\n                        @isPaused = true\n                else if app.playQueue.getCurrentTrack()?\n                    if @isStopped\n                        @onPlayTrack(app.playQueue.getCurrentTrack())\n                #if there is no tracks in the queue play the entire library\n                else if app.playQueue.length is 0\n                    app.tracks.each (track)=>\n                        if track.attributes.state is 'server'\n                            @onQueueTrack track\n                @updatePlayButtonDisplay()\n            else\n                alert \"application error : unable to play track\"\n\n    onClickRwd: =>\n        # go to the start of the current sound\n        if @currentSound? and not @isStopped and @currentSound.position > 3000\n            @currentSound.setPosition 0\n            @updateProgressDisplay()\n        # get the previous sound\n        else\n            prevTrack = app.playQueue.getPrevTrack()\n            if prevTrack?\n                # then play previous track\n                @onPlayTrack prevTrack\n\n    onClickFwd: =>\n        nextTrack = app.playQueue.getNextTrack()\n        if nextTrack?\n            # then play next track\n            @onPlayTrack nextTrack\n\n\n    onMouseDownProgress: (event)->\n        if @currentSound?\n            event.preventDefault()\n            handlePositionPx = event.clientX - @progress.offset().left\n            percent = handlePositionPx/@progress.width()\n            if @currentSound.durationEstimate*percent < @currentSound.duration\n                @currentSound.setPosition @currentSound.durationEstimate*percent\n                @updateProgressDisplay()\n\n    onQueueTrack: (track)=>\n        # if it's the current sound do nothing\n        if @currentSound?.id is \"sound-#{track.get('id')}\"\n            return\n        app.playQueue.queue track\n        # autoplay\n        if app.playQueue.length is 1\n            @onPlayTrack app.playQueue.getCurrentTrack()\n        # if current playlist have been play entirely\n        else if app.playQueue.length-2 is app.playQueue.atPlay and @isStopped\n            @onPlayTrack app.playQueue.getNextTrack()\n\n    onQueueTrackMultiple: (tracks)=>\n        for track in tracks\n            @onQueueTrack track\n\n    onPushNext: (track)=>\n        # if it's the current sound do nothing\n        if @currentSound?.id is \"sound-#{track.get('id')}\"\n            return\n        app.playQueue.pushNext track\n        # autoplay\n        if app.playQueue.length is 1\n            @onPlayTrack app.playQueue.getCurrentTrack()\n        else if app.playQueue.length-2 is app.playQueue.atPlay and @isStopped\n            @onPlayTrack app.playQueue.getNextTrack()\n\n\n    onPushNextMultiple: (tracks)=>\n        pq = app.playQueue\n        # in case autoplay is triggered for pushed tracks\n        # we need to push the first track then reverse the remaining tracks\n        if pq.length is 0 or (pq.length-1 is pq.atPlay and @isStopped)\n            @onPushNext tracks.shift()\n        tracks.reverse()\n        for track in tracks\n            @onPushNext track\n\n    onPlayImmediate: (track)=>\n        # if it's the current sound just call playTrack on it\n        if @currentSound?.id is \"sound-#{track.get('id')}\"\n            nextTrack = track\n        # else fetch the playqueue\n        else\n            app.playQueue.pushNext track\n            # if the queue was empty before the above instruction\n            if app.playQueue.length is 1\n                nextTrack = app.playQueue.getCurrentTrack()\n            else\n                nextTrack = app.playQueue.getNextTrack()\n            # launch newTrack\n        @onPlayTrack nextTrack\n\n\n    onPlayTrack: (track)=>\n        # signal other subviews\n        Backbone.Mediator.publish 'player:start-sound', track.get('id')\n        # stop and destruct previous sound if necessary\n        if @currentSound?\n            # if this is the same sound, no need to destroy it\n            if @currentSound.id is \"sound-#{track.get('id')}\"\n                @currentSound.setPosition 0\n                @currentSound.play()\n                @updateProgressDisplay()\n                return\n            # else destroy the current track\n            else\n                @stopTrack()\n\n        # here @currentSound must be null so we can proceed the track loading\n        # loading the track\n        url = \"tracks/#{track.get('id')}/binary\"\n        @currentSound = app.soundManager.createSound\n            id: \"sound-#{track.get('id')}\"\n            url: url\n            usePolicyFile: true\n            volume: @volumeFilter(@volume)\n            #muted: @isMuted # doesn't seem to work\n            autoPlay: true\n            onfinish: @onPlayFinish\n            onstop: @stopTrack\n            whileplaying: @updateProgressDisplay\n            whileloading: @printLoadingInfo # debbugging tool\n            # sound \"restart\" (instead of \"chorus\") when played multiple times\n            multiShot: false\n            onid3: ()-> console.log @id3 # may be useful in the future\n        @currentSound.mute() if @isMuted\n\n        # update display and variables\n        @isStopped = false\n        @isPaused = false\n        @updatePlayButtonDisplay()\n        title = track.get 'title'\n        artist = track.get 'artist'\n        nfo = \"#{title} - <i>#{artist}</i>\"\n        @$('.id3-info').html nfo\n\n        # if artist or title are empty string fille with a space\n        # for the router to identify the route correctly\n        encT = if title is \"\" then \"%20\" else encodeURIComponent(title)\n        encA = if artist is \"\" then \"%20\" else encodeURIComponent(artist)\n        $.ajax \"broadcast/#{encodeURIComponent(url)}/#{encT}/#{encA}\",\n            type: 'PUT'\n            error: (jqXHR, textStatus, errorThrown)->\n                console.log \"ajax fail : #{textStatus}\"\n\n        # if broadcast is enabled then signal server\n        if app.isBroadcastEnabled\n            $.ajax \"broadcast\",\n                type: 'GET'\n                error: (jqXHR, textStatus, errorThrown)->\n                    console.log \"ajax fail : #{textStatus}\"\n\n    # at the end of track, play next track\n    onPlayFinish: =>\n        nextTrack = app.playQueue.getNextTrack()\n        if nextTrack?\n            @onPlayTrack nextTrack\n        # if there is no more track just stop the current one.\n        else\n            @stopTrack()\n\n    # stop means destroy, this function destroy the sound and update the display\n    stopTrack: =>\n        # signal other subviews\n        Backbone.Mediator.publish 'player:stop-sound'\n        if @currentSound?\n            @currentSound.destruct()\n            @currentSound = null\n        @isStopped = true\n        @isPaused = false\n        @updatePlayButtonDisplay()\n        @progressInner.width \"0%\"\n        @elapsedTime.html \"&nbsp;0:00\"\n        @remainingTime.html \"&nbsp;0:00\"\n        @$('.id3-info').html \"-\"\n\n        # if broadcast is enabled then stop it too\n        if app.isBroadcastEnabled\n            $.ajax \"broadcast\",\n                type: 'DELETE'\n                error: (jqXHR, textStatus, errorThrown)->\n                    console.log \"ajax fail : #{textStatus}\"\n\n    # volumeChange handler, it just tells soundManager the new volume value\n    onVolumeChange: (volume)=>\n        @volume = volume\n        Cookies.set 'defaultVolume', volume\n        if @currentSound?\n            @currentSound.setVolume @volumeFilter(volume)\n\n    # volume change should be more significant with that\n    volumeFilter: (volume)=>\n        # the formula is x->(x*0.01)^2*100+1\n        newVol = volume*0.01\n        newVol = newVol*newVol # turn linear into quadratic\n        newVol = newVol*100 + 1 # so the volume can't be 0\n        return newVol\n\n    # on mute handler, same thing but for the muted value\n    onToggleMute: =>\n        @isMuted = not @isMuted\n        Cookies.set 'isMuteByDefault', \"#{@isMuted}\"\n        if @currentSound?\n            @currentSound.toggleMute()\n\n    # convert milliseconds to a cool readable string format : \"mm:ss\" or \" m:ss\"\n    formatMs: (ms)->\n        s = Math.floor ((ms/1000) % 60)\n        s = \"0#{s}\" if s < 10\n        m = Math.floor ms/60000\n        m = \"&nbsp;#{m}\" if m < 10\n        \"#{m}:#{s}\"\n\n    # debugging function : to delete\n    printLoadingInfo: =>\n        bl = Math.floor(@currentSound.bytesLoaded/@currentSound.bytesTotal*100)\n        unless @bytesLoaded?\n            @bytesLoaded = -1\n        if @bytesLoaded isnt bl\n            @bytesLoaded = bl\n            tot = @currentSound.durationEstimate\n            console.log \"is buffering : #{@currentSound.isBuffering}\"\n            console.log \"buffered :\"\n            printBuf = (buf)=>\n                console.log \"[#{Math.floor(buf.start/tot*100)}% - #{Math.floor(buf.end/tot*100)}%]\"\n            printBuf @currentSound.buffered[i] for buf, i in @currentSound.buffered\n            console.log \"bytes loaded : #{bl}\"\n            console.log \"\"\n        else\n            console.log \"refresh\"\n\n    # update both left and right timers and the progress bar\n    updateProgressDisplay: =>\n        newWidth = @currentSound.position/@currentSound.durationEstimate*100\n        @progressInner.width \"#{newWidth}%\"\n        @elapsedTime.html @formatMs(@currentSound.position)\n        remainingTime = @currentSound.durationEstimate - @currentSound.position\n        @remainingTime.html @formatMs(remainingTime)\n\n    onClickLoop: ->\n        loopIcon = @$('#loop-button i')\n        if loopIcon.hasClass 'icon-refresh'\n            # currently in repeat-all mode\n            if loopIcon.hasClass 'activated'\n                app.playQueue.playLoop = 'repeat-one'\n                loopIcon.toggleClass 'activated'\n                loopIcon.toggleClass 'icon-refresh icon-repeat activated'\n            # currently in no-repeat mode\n            else\n                app.playQueue.playLoop = 'repeat-all'\n                loopIcon.toggleClass 'activated'\n        # currently in repeat-one mode\n        else\n            app.playQueue.playLoop = 'no-repeat'\n            loopIcon.toggleClass 'icon-refresh icon-repeat activated'\n\n    onClickRandom: ->\n        app.playQueue.randomize()\n","BaseView = require './../../../lib/base_view'\n\nmodule.exports = class VolumeManager extends BaseView\n\n    className: 'volume'\n    tagName: 'div'\n    template: require('views/templates/player/volumeManager')\n\n    events:\n        'mousedown .slider': 'onMouseDownSlider'\n        'click #volume-switch-button': 'onClickToggleMute'\n\n    initialize: (options)->\n        super\n        @volumeValue = options.initVol\n        @isMuted = options.initMute\n\n        # bind keyboard events\n        Mousetrap.bind 'm', @toggleMute\n        Mousetrap.bind '+', @volUp\n        Mousetrap.bind '-', @volDown\n\n    afterRender: ->\n        super\n        @slidableZone = $(document) # the zone where the user can slide\n        @slider = @$('.slider')\n        @sliderContainer = @$('.slider-container')\n        @sliderInner = @$('.slider-inner')\n        if @isMuted\n            @sliderInner.width \"0%\"\n            toggledClasses = 'icon-volume-up icon-volume-off activated'\n            @$('#volume-switch-button i').toggleClass toggledClasses\n        else\n            @sliderInner.width \"#{@volumeValue}%\"\n\n    onMouseDownSlider: (event) ->\n        event.preventDefault()\n        @retrieveVolumeValue(event)\n        @slidableZone.mousemove @onMouseMoveSlider\n        @slidableZone.mouseup @onMouseUpSlider\n\n    onMouseMoveSlider: (event) =>\n        event.preventDefault()\n        @retrieveVolumeValue(event)\n\n    onMouseUpSlider: (event) =>\n        event.preventDefault()\n        @slidableZone.off 'mousemove'\n        @slidableZone.off 'mouseup'\n\n    onClickToggleMute: (event) =>\n        event.preventDefault()\n        @toggleMute()\n\n    volUp: =>\n        @volumeValue = parseInt(@volumeValue)+10\n        @controlVolumeValue()\n\n    volDown: =>\n        @volumeValue = parseInt(@volumeValue)-10\n        @controlVolumeValue()\n\n    retrieveVolumeValue: (event)->\n        handlePositionPx = event.clientX - @sliderContainer.offset().left\n        handlePositionPercent = handlePositionPx/@sliderContainer.width() * 100\n        @volumeValue = handlePositionPercent.toFixed(0)\n        @controlVolumeValue()\n\n    controlVolumeValue: ->\n        @volumeValue = 100 if @volumeValue > 100\n        if @volumeValue < 0\n            @volumeValue = 0\n            @toggleMute() unless @isMuted\n        @toggleMute() if @volumeValue > 0 and @isMuted\n        @updateDisplay()\n\n    updateDisplay: ->\n        Backbone.Mediator.publish 'volumeManager:volumeChanged', @volumeValue\n        newWidth = if @isMuted then 0 else @volumeValue\n        @sliderInner.width \"#{newWidth}%\"\n\n    toggleMute: =>\n        Backbone.Mediator.publish 'volumeManager:toggleMute', @volumeValue\n        toggledClasses = 'icon-volume-up icon-volume-off activated'\n        @$('#volume-switch-button i').toggleClass toggledClasses\n        @isMuted = not @isMuted\n        @updateDisplay()\n","###\n    Inherited from playqueue (for the drag and drop feature)\n\n    Features :\n    - queue the entire list\n    - list backed up on server side\n###\n\nTracklist = require '../tracklist/tracklist'\nPlayQueueView = require '../playqueue/playqueue'\nBaseView = require './../../../lib/base_view'\nTrackView = require './playlist_item'\n\nmodule.exports = class PlayListView extends PlayQueueView\n\n    template: require('views/templates/playlist')\n    itemview: TrackView\n\n    events:\n        'update-sort': 'updateSort'\n        'click #playlist-play': 'onClickPlay'\n        'remove-item': (e, track)->\n            @collection.remove track\n\n    onClickPlay: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        # clear the queue\n        app = require 'application'\n        app.playQueue.deleteFromIndexToEnd 0\n        # queue the songs\n        filteredCollection = @collection.filter (track) ->\n            track.attributes.state is 'server'\n        Backbone.Mediator.publish 'tracks:queue', filteredCollection\n        # go to \"up next\"\n        app.router.navigate \"playqueue\", true\n\n    updateSort: (event, track, newPosition) ->\n        @collection.move newPosition, track\n","TrackListItemView = require '../tracklist/tracklist_item'\n\nmodule.exports = class PlayListItemView extends TrackListItemView\n\n    template: require 'views/templates/playlist_item'\n\n    events:\n        'click #play-track-button': (e)->\n            if e.ctrlKey or e.metaKey\n                @onPlayNextTrack(e)\n            else\n                @onQueueTrack(e)\n        'click #delete-button': 'onDeleteClick'\n        'drop' : 'drop'\n\n    initialize: ->\n        super\n        # handle variable changes\n        @listenTo @model, 'change:state', @onStateChange\n        @listenTo @model, 'change:title', (event)=>\n            @$('td.field.title').html @model.attributes.title\n        @listenTo @model, 'change:artist', (event)=>\n            @$('td.field.artist').html @model.attributes.artist\n        @listenTo @model, 'change:album', (event)=>\n            @$('td.field.album').html @model.attributes.album\n        @listenTo @model, 'change:track', (event)=>\n            @$('td.field.num').html @model.attributes.track\n\n    onQueueTrack: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        # if the file is not backed up yet, disable the play launch\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:queue', @model\n\n    onPlayNextTrack: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        # if the file is not backed up yet, disable the play launch\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:pushNext', @model\n\n    onDeleteClick: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n         # remove the view without destroying the model\n        @$el.trigger 'remove-item', @model\n\n    drop: (event, index) ->\n        @$el.trigger 'update-sort', [@model, index]\n","BaseView = require 'lib/base_view'\nPlaylistTrackCollection = require 'collections/playlist'\n\nmodule.exports = class PlaylistNavView extends BaseView\n\n    # This time the html component does not exist in the dom.\n    # So, we don't refer to a DOM element, we just give\n    # class and tag names to let backbone build the component.\n    className: 'playlist'\n    tagName: 'div'\n\n    # The template render the bookmark with data given by the model\n    template: require 'views/templates/playlist_nav'\n\n    events:\n        'click .select-playlist-button': 'onSelectClick'\n        'click .delete-playlist-button': 'onDeleteClick'\n\n    initialize: ->\n        super\n        # handle variable changes\n        @listenTo @model, 'change:id', @onIdChange\n\n    onIdChange: ->\n        @$('a').attr 'href', \"#playlist/#{@model.id}\"\n\n    onSelectClick: (event) =>\n        event.preventDefault()\n        event.stopPropagation()\n        unless @$('li').hasClass('selected')\n            @$('li').addClass('selected')\n            @$el.trigger 'playlist-selected', @model\n        else\n            @$('li').removeClass('selected')\n            @$el.trigger 'playlist-unselected'\n\n    onDeleteClick: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n\n        if confirm \"Are you sure? the playlist will be deleted definitively.\"\n            @model.destroy\n                error: =>\n                    alert \"Server error occured, track was not deleted.\"","###\n    Inherited from tracklist\n\n    Features :\n    - drag and drop\n    - remove tracks from list\n    - maintain a pointer on the track at play\n###\n\nTrackView = require './playqueue_item'\nTrackListView = require '../tracklist/tracklist'\n\nmodule.exports = class PlayQueueView extends TrackListView\n\n    itemview: TrackView\n    template: require('views/templates/playqueue')\n\n    events:\n        'update-sort': 'updateSort'\n        'remove-item': (e, track)->\n            @collection.remove track\n        'play-from-track': 'playFromTrack'\n        'remove-from-track': 'removeFromTrack'\n        'remove-to-track': 'removeToTrack'\n        'click .save-button': (e)->\n            alert 'not available yet'\n        'click .show-prev-button': 'onClickShowPrevious'\n        'click .clear': 'removeFromFirst'\n\n    showPrevious: false\n\n    initialize: ->\n        super\n        cookie = Cookies('isShowPreviousByDefault')\n        @showPrevious = cookie? and cookie is \"true\"\n        @listenTo @collection, 'change:atPlay', =>\n            if @isRendered\n                @render()\n        @isRendered = false # a sad story...\n\n    updateStatusDisplay: ->\n        for id, view of @views\n            index = @collection.indexOf view.model\n            if index < @collection.atPlay\n                if @showPrevious\n                    view.$el.addClass 'already-played'\n                else\n                    view.$el.addClass 'hidden'\n            else if index is @collection.atPlay\n                view.$el.addClass 'at-play'\n\n    afterRender: =>\n        super\n        # adding table stripes\n        $('.tracks-display tr:odd').addClass 'odd'\n\n        # update track status display\n        @updateStatusDisplay()\n\n        # enabling drag'n'drop with jquery-ui-1.10.3\n        @$('#track-list').sortable\n            opacity: 0.8\n            delay: 150 # prevent unwanted drags when clicking on an element\n            containment: \"parent\"\n            axis: \"y\"\n            placeholder: \"track sortable-placeholder\"\n            # tolerance: \"pointer\"\n            # to prevent table.th width to collapse, we need to override helper\n            helper: (e, tr)->\n                $originals = tr.children()\n                $helper = tr.clone()\n                $helper.children().each (index)->\n                    # Set helper cell sizes to match the original sizes\n                    $(this).width($originals.eq(index).width())\n                return $helper\n            # when drag'n'drop stop we need to update the collection\n            stop: (event, ui) ->\n                return if event.originalEvent?.dataTransfer?\n                ui.item.trigger 'drop', ui.item.index()\n\n        @isRendered = true\n\n    beforeRender: ->\n        if @isRendered\n            @$('#track-list').sortable \"destroy\"\n        super\n        @isRendered = false\n\n    beforeDetach: ->\n        if @isRendered\n            @$('#track-list').sortable \"destroy\"\n        super\n        @isRendered = false\n\n    remove: ->\n        @$('#track-list').sortable \"destroy\"\n        super\n        @isRendered = false\n\n    disableSort: ->\n        if @isRendered\n            @$(\"#track-list\").sortable \"disable\"\n\n    enableSort: ->\n        if @isRendered\n            @$(\"#track-list\").sortable \"enable\"\n\n    updateSort: (event, track, position) ->\n        @collection.moveItem track, position\n        @render()\n\n    playFromTrack: (event, track)->\n        @collection.playFromTrack track\n\n    removeFromTrack: (event, track)->\n        index = @collection.indexOf track\n        @collection.deleteFromIndexToEnd index\n        @render()\n\n    removeToTrack: (event, track)->\n        index = @collection.indexOf track\n        @collection.deleteFromBeginingToIndex index\n        @render()\n\n    removeFromFirst: (event)->\n        @collection.deleteFromIndexToEnd 0\n        @render()\n\n    onClickShowPrevious: (e)=>\n            @showPrevious = !@showPrevious\n            Cookies.set 'isShowPreviousByDefault', @showPrevious\n            @render()\n","TrackListItemView = require '../tracklist/tracklist_item'\n\nmodule.exports = class PlayQueueItemView extends TrackListItemView\n\n    template: require 'views/templates/playqueue_item'\n\n    events:\n        'click #mini-play-button': 'onPlayClick'\n        'click #delete-button': 'onDeleteClick'\n        'click #delete-from-here-button': (e)->\n            if e.ctrlKey or e.metaKey\n                @onDeleteToHereClick(e)\n            else\n                @onDeleteFromHereClick(e)\n        'drop' : 'drop'\n\n    initialize: ->\n        super\n        # handle variable changes\n        @listenTo @model, 'change:state', @onStateChange\n        @listenTo @model, 'change:title', (event)=>\n            @$('td.field.title').html @model.attributes.title\n        @listenTo @model, 'change:artist', (event)=>\n            @$('td.field.artist').html @model.attributes.artist\n        @listenTo @model, 'change:album', (event)=>\n            @$('td.field.album').html @model.attributes.album\n        @listenTo @model, 'change:track', (event)=>\n            @$('td.field.num').html @model.attributes.track\n\n    onPlayClick: (event)=>\n        event.preventDefault()\n        event.stopPropagation()\n        @$el.trigger 'play-from-track', @model\n\n    onDeleteClick: (event)=>\n        event.preventDefault()\n        event.stopPropagation()\n         # remove the view without destroying the model\n        @$el.trigger 'remove-item', @model\n\n    onDeleteFromHereClick: (event)->\n        @$el.trigger 'remove-from-track', @model\n\n    onDeleteToHereClick: (event)->\n        @$el.trigger 'remove-to-track', @model\n\n    drop: (event, index) ->\n        @$el.trigger 'update-sort', [@model, index]\n","# **************************************************************************** #\n#                                                                              #\n#                                                         :::      ::::::::    #\n#    top_nav.coffee                                     :+:      :+:    :+:    #\n#                                                     +:+ +:+         +:+      #\n#    By: ppeltier <ppeltier@student.42.fr>          +#+  +:+       +#+         #\n#                                                 +#+#+#+#+#+   +#+            #\n#    Created: 2015/06/05 17:34:07 by ppeltier          #+#    #+#              #\n#    Updated: 2015/06/06 15:41:16 by ppeltier         ###   ########.fr        #\n#                                                                              #\n# **************************************************************************** #\n\nBaseView         = require 'lib/base_view'\nTrackModel       = require 'models/track'\napp              = require 'application'\nuploadTrackModel = require 'models/uploader_model'\n\n\nmodule.exports = class TopNav extends BaseView\n\n    className: 'top-nav'\n    tagName: 'div'\n    template: require('views/templates/top_nav')\n\n    # Register listener\n    events:\n        'change #uploader': 'onFilesChanged'\n\n    afterRender: ->\n        @uploader = @$('#uploader')\n\n    # event listeners for D&D events\n    onFilesChanged: (event) =>\n        @goHome\n        @handleFiles @uploader[0].files\n        # reset the input\n        old = @uploader\n        @uploader = old.clone true\n        old.replaceWith @uploader\n\n    goHome: ->\n        # if not on home, go to home\n        curUrl = \"#{document.URL}\"\n        if curUrl.match(/playlist/) or curUrl.match(/playqueue/)\n            app.router.navigate '', true\n\n    handleFiles: (files)=>\n        uploadCounter = 0\n        track = null\n\n        # Add a tracks to the list, to avoid browser freezing,\n        # after 20 tracks, it waits for 10ms (and release execution loop)\n        addPhotoAndBreath = (file, callback) =>\n            track = @addTrack file\n            if uploadCounter > 20\n                setTimeout callback, 10\n            else\n                uploadCounter++\n                callback()\n        async.eachSeries files, addPhotoAndBreath, =>\n        # Some stuff after:\n\n    addTrack: (file) =>\n        track = new TrackModel\n            title: file.name\n            size: file.size\n            type: file.type\n        track.file = file\n        app.tracks.unshift track,\n            sort: false\n        track.set\n            state: 'client'\n        uploadTrackModel.process track\n        track\n","###\n    Inherited from tracklist\n\n    Features :\n    - sort by title, artist or album\n    - navigate amongst files with arrows\n    - tracks are highlighted in playlist edition mode\n    - queue albums and titles\n    - add to playlist\n    - delete tracks\n    - metadata edition\n    - auto fill with blank tracks\n###\n\napp = require '../../../application'\nTrackView = require './tracks_item'\nTrackListView = require '../tracklist/tracklist'\n\nmodule.exports = class TracksView extends TrackListView\n\n    template: require('views/templates/tracks')\n    itemview: TrackView\n\n    # Register listener\n    events:\n        'click th.field.title': (event)->\n            @onClickTableHead event, 'title'\n        'click th.field.artist': (event)->\n            @onClickTableHead event, 'artist'\n        'click th.field.album': (event)->\n            @onClickTableHead event, 'album'\n        'click th.field.plays': (event)->\n            @onClickTableHead event, 'plays'\n\n        'album:queue': 'queueAlbum'\n        'album:pushNext': 'pushNextAlbum'\n\n        # when a track is selected\n        'click-track': 'onClickTrack'\n\n    # minimum track-list length\n    minTrackListLength: 40\n\n    subscriptions:\n        # when adding/removing new tracks\n        'uploader:addTracks': (e)->\n            # remove display arrow\n            @elementSort = null\n            @isReverseOrder= false\n            @updateSortingDisplay()\n            # scroll on top of the list\n            @$('.viewport').scrollTop \"0\"\n\n        'uploader:addTrack': (e)->\n            # remove blank track if necessary\n            @$(\".blank:last\").remove()\n            # add stripes\n            unless @$(\".track:nth-child(2)\").hasClass 'odd'\n                @$(\".track:first\").addClass 'odd'\n\n        'trackItem:remove': (e) ->\n            # add blank track if necessary\n            if @collection.length <= @minTrackListLength\n                @appendBlanckTrack()\n                $('tr.blank:odd').addClass 'odd'\n                $('tr.blank:even').removeClass 'odd'\n\n        'offScreenNav:newPlaylistSelected': 'highlightTracks'\n\n    initialize: ->\n        super\n        @selectedTrackView = null\n\n        # default value : sort by artist\n        @toggleSort Cookies('defaultSortItem') || 'artist'\n\n        # specify the current sorting mode\n        @elementSort = null\n\n        # always render after sorting (except for the first sort)\n        # doesn't work\n        @listenTo @collection, 'sort', @render\n        # suppress that when views_collection is functional (with onReset)\n        @listenTo @collection, 'sync', (e) ->\n            #console.log \"vue tracks : \\\"pense à me supprimer un de ces quatres\\\"\"\n            if @collection.length is 0\n                Backbone.Mediator.publish 'tracklist:isEmpty'\n\n        # override to prevent shortcut to trigger when editing fields\n        Mousetrap.stopCallback = (e, element, combo) ->\n            # if the element has the class \"mousetrap\" then no need to stop\n            if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1)\n                # don't stop if keys are 'tab' or 'enter' or 'esc' or 'f2'\n                if e.which in [9, 13, 27, 113]\n                    return false\n\n            # stop for input, select, and textarea that aren't in readOnly mode\n            return element.readOnly is false && (element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || (element.contentEditable && element.contentEditable == 'true'))\n\n    afterRender: =>\n        super\n        # uncomment that when views_collection is functional\n        #console.log \"length : \"+@collection.length\n        #if @collection.length is 0\n        #    Backbone.Mediator.publish('tracklist:isEmpty')\n        @updateSortingDisplay()\n\n        # adding blank tracks if there is not enough tracks to display\n        if @collection.length <= @minTrackListLength\n            for i in [@collection.length..@minTrackListLength]\n                @appendBlanckTrack()\n\n        # adding table stripes\n        $('.tracks-display tr:odd').addClass 'odd'\n\n        # highlight tracks if playlist edition mode is enabled\n        if app.selectedPlaylist?\n            @highlightTracks app.selectedPlaylist\n\n        # enable arrow up and down to navigate through tracks\n        Mousetrap.bind 'up', ()=>\n            if @selectedTrackView?\n                index = @collection.indexOf @selectedTrackView.model\n                # if this is not the first track we can go up\n                if index > 0\n                    # get the previous view\n                    prevIndex = index - 1\n                    prevCid = @collection.at(prevIndex).cid\n                    prevView = @views[prevCid]\n\n                    # manually scroll if needed\n                    @scrollCheck(prevView)\n\n                    # update\n                    prevView.el.click()\n            else\n                cid = @collection.last().cid\n                view = @views[cid]\n                # manually scroll if needed\n                @scrollCheck(view)\n                # update\n                view.el.click()\n\n        Mousetrap.bind 'down', ()=>\n            if @selectedTrackView?\n                index = @collection.indexOf @selectedTrackView.model\n                # if this is not the last track we can go down\n                if index < @collection.length-1\n                    # get the next view\n                    nextIndex = index + 1\n                    nextCid = @collection.at(nextIndex).cid\n                    nextView = @views[nextCid]\n\n                    # manually scroll if needed\n                    @scrollCheck(nextView)\n\n                    # update\n                    nextView.el.click()\n            else\n                cid = @collection.first().cid\n                view = @views[cid]\n                # manually scroll if needed\n                @scrollCheck(view)\n                # update\n                view.el.click()\n\n    # manually scroll if the view is out of the viewport\n    scrollCheck: (view)=>\n        itemEl = view.$el\n        vp = @$('.viewport')\n\n        currScroll = vp.scrollTop()\n        h = itemEl.height()\n        vph = vp.height()\n        top = itemEl.position().top\n        bot = top + h\n\n        #scroll up\n        if bot > vph\n            diff = bot - vph\n            vp.scrollTop currScroll + diff\n\n        # scroll down\n        if top < 0\n            vp.scrollTop currScroll + top\n\n    beforeDetach: =>\n        # remove selection\n        # -> disable navigation through tracks with up and down\n        if @selectedTrackView?\n            @selectedTrackView.unSelect()\n            @selectedTrackView = null\n        Mousetrap.unbind 'up'\n        Mousetrap.unbind 'down'\n        Mousetrap.unbind 'enter'\n        super\n        false\n\n    appendBlanckTrack: =>\n        blankTrack = $(document.createElement('tr'))\n        blankTrack.addClass \"track blank\"\n        blankTrack.html \"<td colspan=\\\"7\\\"></td>\"\n        @$collectionEl.append blankTrack\n\n    highlightTracks: (playlist) ->\n            # add highlighting during playlist edition\n            @$('tr.in-playlist').removeClass 'in-playlist'\n            if playlist?\n                for track in playlist.tracks.models\n                    track2 = @collection.get track.id\n                    if track2?.cid? # track2 my be deleted here\n                        @views[track2.cid].$el.addClass 'in-playlist'\n\n    onClickTrack: (e, trackView)=>\n        # unselect previous selected track if there is one\n        if @selectedTrackView?\n            @selectedTrackView.unSelect()\n        # register selected track\n        @selectedTrackView = trackView\n\n    # manage sortArrow display according to elementSort & isReverseOrder values\n    updateSortingDisplay: =>\n        # remove old arrow\n        @$('.sortArrow').remove()\n\n        # if elementSort is null, don't display sort arrows\n        if @elementSort?\n            # create a new arrow\n            newArrow = $(document.createElement('div'))\n            if @isReverseOrder\n                newArrow.addClass 'sortArrow up'\n            else\n                newArrow.addClass 'sortArrow down'\n\n            # append it in the document\n            @$('th.field.'+@elementSort).append newArrow\n\n    # event listeners for clicks on table header\n    onClickTableHead: (event, element) =>\n        event.preventDefault()\n        event.stopPropagation()\n        @toggleSort element\n\n\n    toggleSort: (element)=>\n        # sort by 'element' in alphabetical order\n        # update variables for displaying\n        if @elementSort is element\n            @isReverseOrder = not @isReverseOrder\n        else\n            @isReverseOrder = false\n        Cookies.set 'defaultSortItem', element\n\n        @elementSort = element\n\n        if element is 'title'\n            elementArray = ['title', 'artist', 'album', 'track']\n        else if element is 'artist'\n            elementArray = ['artist', 'album', 'track', 'title']\n        else if element is 'album'\n            elementArray = ['album', 'track', 'title', 'artist']\n        else if element is 'plays'\n            elementArray = ['plays', 'title', 'artist', 'album']\n        else\n            elementArray = [element, null, null, null]\n\n        # override the comparator function\n        compare = (t1, t2)->\n            for i in [0..3]\n                field1 = t1.get(elementArray[i]).toString()\n                field2 = t2.get(elementArray[i]).toString()\n                if (field1.match(/^[0-9]+$/))? and (field2.match(/^[0-9]+$/))?\n                    field1 = parseInt(field1)\n                    field2 = parseInt(field2)\n                else if (field1.match(/^[0-9]+\\/[0-9]+$/))? and (field2.match(/^[0-9]+\\/[0-9]+$/))?\n                    #if field1.match(/\\/[0-9]+$/) is field2.match(/\\/[0-9]+$/)\n                    field1 = parseInt(field1.match(/^[0-9]+/))\n                    field2 = parseInt(field2.match(/^[0-9]+/))\n                else\n                    # disable case sensitive search for non numeric value\n                    field1 = field1.toLowerCase()\n                    field2 = field2.toLowerCase()\n                return -1 if field1 < field2\n                return 1 if field1 > field2\n            0\n\n        if @isReverseOrder\n            @collection.comparator = (t1, t2)=>\n                compare t2, t1\n        else\n            @collection.comparator = (t1, t2)=>\n                compare t1, t2\n\n        # sort with this new comparator function\n        @collection.sort()\n\n    queueAlbum: (event, album)->\n        albumsTracks = @collection.where\n            album: album\n        albumsTracksF = albumsTracks.filter (track) ->\n            track.attributes.state is 'server'\n        Backbone.Mediator.publish 'tracks:queue', albumsTracksF\n\n    pushNextAlbum: (event, album)->\n        albumsTracks = @collection.where\n            album: album\n        albumsTracksF = albumsTracks.filter (track) ->\n            track.attributes.state is 'server'\n        Backbone.Mediator.publish 'tracks:pushNext', albumsTracksF\n","TrackListItemView = require '../tracklist/tracklist_item'\napp = require 'application'\n\nmodule.exports = class TracksItemView extends TrackListItemView\n\n    template: require 'views/templates/tracks_item'\n\n    events:\n        'click #delete-button': 'onDeleteClick'\n        'click #play-track-button': (e)->\n            if e.ctrlKey or e.metaKey\n                @onPlayNextTrack(e)\n            else\n                @onQueueTrack(e)\n        'click #add-to-button': (e)->\n            e.preventDefault()\n            e.stopPropagation()\n            if app.selectedPlaylist?\n                @onAddTo()\n            else\n                alert \"No playlist selected. Please select a playlist in the navigation bar on the left\"\n        'dblclick [id$=\"button\"]': (event)->\n            # prevent triggering multiple events when dbl clicking on a button\n            event.preventDefault()\n            event.stopPropagation()\n        'dblclick': (e)->\n            e.preventDefault()\n            e.stopPropagation()\n            if @isEdited isnt ''\n                @disableEdition()\n                @isEdited = ''\n            @onDblClick e\n\n        'click #play-album-button': (e)->\n            if e.ctrlKey or e.metaKey\n                @onPlayNextAlbum(e)\n            else\n                @onQueueAlbum(e)\n\n        'click .title': (e) -> @onClick e, 'title'\n        'click .artist': (e) -> @onClick e, 'artist'\n        'click .album': (e) -> @onClick e, 'album'\n        'click': (e) -> @onClick e, ''\n\n    # Called after the constructor\n    initialize: ->\n        super\n        # handle variable changes\n        @listenTo @model, 'change:state', @onStateChange\n        @listenTo @model, 'change:title', (event)=>\n            @$('td.field.title input').val @model.attributes.title\n        @listenTo @model, 'change:artist', (event)=>\n            @$('td.field.artist input').val @model.attributes.artist\n        @listenTo @model, 'change:album', (event)=>\n            @$('td.field.album input').val @model.attributes.album\n        @listenTo @model, 'change:track', (event)=>\n            @$('td.field.num').html @model.attributes.track\n\n        @isEdited = ''\n\n    onClick: (event, element)=>\n        event.preventDefault()\n        event.stopPropagation()\n        if @model.attributes.state is 'server'\n            # if the track is already selected\n            if @$el.hasClass 'selected'\n                # is another element is selected\n                if @isEdited isnt element\n                    # disable edition on the previously edited element\n                    if @isEdited isnt ''\n                        @disableEdition()\n                    # then enable edition on this track\n                    @isEdited = element\n                    @enableEdition()\n            else\n                # select track\n                @$el.addClass 'selected'\n                # signal to unselect previous selection and register the new one\n                @$el.trigger 'click-track', @\n                # enable F2 key\n                Mousetrap.bind 'f2', ()=>\n                    if @isEdited is ''\n                        @isEdited = 'title'\n                        @enableEdition()\n                # enable play on enter\n                Mousetrap.bind 'enter', @onEnter\n                Mousetrap.bind 'ctrl+enter', @onCtrlEnter\n\n    unSelect: =>\n        @$el.removeClass 'selected'\n        if @isEdited isnt ''\n            selector = \".#{@isEdited} input\"\n            @disableEdition()\n            @isEdited = ''\n        Mousetrap.unbind 'f2'\n        Mousetrap.unbind 'enter', @onEnter\n        Mousetrap.unbind 'ctrl+enter', @onCtrlEnter\n\n    enableEdition: ->\n        if @isEdited isnt ''\n            selector = \".#{@isEdited} input\"\n            unless @$(selector).hasClass 'activated'\n                @$(selector).addClass 'activated'\n                @$(selector).removeAttr 'readonly'\n                @$(selector).focus()\n                @$(selector).select()\n                @tmpValue = @$(selector).val()\n\n                Mousetrap.unbind 'enter', @onEnter\n                Mousetrap.unbind 'ctrl+enter', @onCtrlEnter\n                Mousetrap.bind 'enter', ()=>\n                    @disableEdition()\n                    @isEdited = ''\n\n                Mousetrap.bind 'esc', ()=>\n                    @$(selector).val @tmpValue\n                    @disableEdition(false)\n                    @isEdited = ''\n\n                Mousetrap.bind 'tab', (e)=>\n                    e.preventDefault()\n                    @disableEdition()\n                    oldEdit = @isEdited\n                    @isEdited = switch\n                        when oldEdit is 'title' then 'artist'\n                        when oldEdit is 'artist' then 'album'\n                        when oldEdit is 'album' then 'title'\n                    @enableEdition()\n\n    disableEdition: (save=true)=>\n        if @isEdited isnt ''\n            selector = \".#{@isEdited} input\"\n            if @$(selector).hasClass 'activated'\n                if save  and @$(selector).val() isnt @tmpValue\n                    @saveNewValue()\n                @$(selector).blur()\n                @$(selector).attr 'readonly', 'readonly'\n                @$(selector).removeClass 'activated'\n                @tmpValue = null\n                Mousetrap.unbind 'enter'\n                Mousetrap.unbind 'esc'\n                Mousetrap.unbind 'tab'\n                Mousetrap.bind 'enter', @onEnter\n                Mousetrap.bind 'ctrl+enter', @onCtrlEnter\n\n    saveNewValue: ->\n        selector = \".#{@isEdited} input\"\n        val = @$(selector).val()\n        @tmpValue = val\n        switch\n            when @isEdited is 'title' then @model.attributes.title = val\n            when @isEdited is 'artist' then @model.attributes.artist = val\n            when @isEdited is 'album' then @model.attributes.album = val\n        @saving = true\n        @model.save\n            success: =>\n                @saving = false\n            error: =>\n                alert \"An error occured, modifications were not saved.\"\n                @saving = false\n\n    afterRender: ->\n        super\n        # in case the view is rendered during the upload (ex: because of a sort)\n        state = @model.attributes.state\n        if state is 'client'\n            @initUpload()\n        else if state is 'uploadStart'\n            @initUpload()\n            @startUpload()\n        else if state is 'importBegin'\n            @importBegin()\n\n    onDeleteClick: (event)=>\n        event.preventDefault()\n        event.stopPropagation()\n\n        state = @model.attributes.state\n\n        if state is 'uploadStart' or state is 'importBegin'\n            # we don't know the file id on the server before the upload is ended\n            # it simplier to just prohibit the cancelling at this moment\n            alert \"Wait for upload to finish to delete this track\"\n            return\n\n        if state is 'client'\n            # This will stop the upload process and delete the model\n            @model.set\n                state: 'canceled'\n\n        # stop playing this track if at play # not needed anymore\n        #id = @model.attributes.id\n        #Backbone.Mediator.publish 'track:delete', \"sound-#{id}\"\n        # destroy the model\n        @model.destroy\n            error: =>\n                alert \"Server error occured, track was not deleted.\"\n        # signal trackList view\n        Backbone.Mediator.publish 'trackItem:remove'\n\n    onDblClick: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        # if the file is not backed up yet, disable the play launch\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:playImmediate', @model\n\n    onQueueTrack: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        # if the file is not backed up yet, disable the play launch\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:queue', @model\n\n    onPlayNextTrack: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        # if the file is not backed up yet, disable the play launch\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:pushNext', @model\n\n    onEnter: (event)=>\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:queue', @model\n\n    onCtrlEnter: (event)=>\n        if @model.attributes.state is 'server'\n            Backbone.Mediator.publish 'track:pushNext', @model\n\n    onQueueAlbum: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        album = @model.attributes.album\n        if album? and album isnt ''\n            @$el.trigger 'album:queue', album\n        else\n            alert \"can't play null album\"\n\n    onPlayNextAlbum: (event)->\n        event.preventDefault()\n        event.stopPropagation()\n        album = @model.attributes.album\n        if album? and album isnt ''\n            @$el.trigger 'album:pushNext', album\n        else\n            alert \"can't play null album\"\n\n    onAddTo: ->\n        if @model.attributes.state is 'server'\n            app.selectedPlaylist.tracks.add @model\n            # warning, the track will be highlighted even if the operation fail\n            unless @$el.hasClass 'in-playlist'\n                @$el.addClass 'in-playlist'\n\n    onUploadProgressChange: (e)=>\n        # make sure we can compute the length\n        if e.lengthComputable\n            #calculate the percentage loaded\n            pct = Math.floor (e.loaded / e.total) * 100\n\n            # here is a css trick for restarting css animation :\n            # prepend the clone & then remove the original element\n            el = @$ '.uploadProgress'\n            # make sure the element have been initialized\n            if el?\n                el.before( el.clone(true) ).remove()\n\n                # update percentage value display\n                @$('.uploadProgress').html \"#{pct}%\"\n\n        # this usually happens when Content-Length isn't set\n        else\n            console.warn 'Content Length not reported!'\n\n    onStateChange: ->\n        if @model.attributes.state is 'client'\n            @initUpload()\n        else if @model.attributes.state is 'uploadStart'\n            @startUpload()\n        else if @model.attributes.state is 'uploadEnd'\n            @endUpload()\n        else if @model.attributes.state is 'importBegin'\n            @importBegin()\n\n    initUpload: ->\n        @saveAddBtn = @$('#add-to-button').detach()\n        @savePlayTrackBtn = @$('#play-track-button').detach()\n        uploadProgress = $(document.createElement('div'))\n        uploadProgress.addClass('uploadProgress')\n        uploadProgress.html 'INIT'\n        @$('#state').append uploadProgress\n\n    startUpload: ->\n        @$('.uploadProgress').html '0%'\n        @listenTo @model, 'progress', @onUploadProgressChange\n\n    endUpload: ->\n        @stopListening @model, 'progress'\n        @$('.uploadProgress').html 'DONE'\n        @$('.uploadProgress').delay(1000).fadeOut 1000, @returnToNormal\n\n    returnToNormal: =>\n        @$('.uploadProgress').remove()\n        @$('#state').append @saveAddBtn\n        @$('#state').append @savePlayTrackBtn\n        @model.attributes.state = 'server'\n\n    importBegin: =>\n        @saveAddBtn = @$('#add-to-button').detach()\n        @savePlayTrackBtn = @$('#play-track-button').detach()\n        uploadProgress = $(document.createElement('div'))\n        uploadProgress.addClass('uploadProgress')\n        uploadProgress.html 'WAIT'\n        @$('#state').append uploadProgress\n","###\n    Basic track list.\n\n    Features :\n    - scrolling with \"nicescroll\"\n    - scroll bar management\n###\n\nViewCollection = require './../../../lib/view_collection'\nTrackView = require './tracklist_item'\n\nmodule.exports = class TrackListView extends ViewCollection\n\n    className: 'tracks-display'\n    tagName: 'div'\n    template: require('views/templates/tracklist')\n    collectionEl: '#track-list'\n    itemview: TrackView\n\n    initialize: ->\n        super\n        @views = {}\n\n    afterRender: =>\n        super\n\n        # adding scrollbar\n        @$('.viewport').niceScroll(\n            cursorcolor:\"#444\"\n            cursorborder: \"\" #1px solid #555\n            cursorwidth:\"15px\"\n            cursorborderradius: \"0px\"\n            horizrailenabled: false\n            cursoropacitymin: \"0.3\"\n            hidecursordelay: \"700\"\n            spacebarenabled: false\n            enablekeyboard: false\n        )\n\n    beforeDetach: ->\n        @$('.viewport').getNiceScroll().remove()\n\n    remove: ->\n        @$('.viewport').getNiceScroll().remove()\n        super\n","BaseView = require './../../../lib/base_view'\n\nmodule.exports = class TrackListItemView extends BaseView\n\n    # This time the html component does not exist in the dom.\n    # So, we don't refer to a DOM element, we just give\n    # class and tag names to let backbone build the component.\n    className: 'track'\n    tagName: 'tr'\n\n    # The template render the bookmark with data given by the model\n    template: require 'views/templates/tracklist_item'\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"content\\\"><div id=\\\"top-nav\\\"></div><div id=\\\"off-screen-nav\\\"></div><div id=\\\"tracks-display\\\"></div><div id=\\\"player\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"off-screen-nav-toggle\\\"><div class=\\\"off-screen-nav-toggle-handler\\\"><div class=\\\"off-screen-nav-toggle-arrow\\\"></div></div></div><div class=\\\"off-screen-nav-content\\\"><div id=\\\"playlist-title-list\\\" class=\\\"off-screen-nav-title\\\">Playlists<div title=\\\"create\\\" class=\\\"off-screen-nav-button add-playlist-button\\\"></div></div><ul id=\\\"playlist-list\\\"></ul></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"player-element\\\"><div id=\\\"rwd-button\\\" title=\\\"play previous track\\\" class=\\\"player-button size-26\\\"><i class=\\\"icon-backward\\\"></i></div><div id=\\\"play-button\\\" title=\\\"play/pause\\\" class=\\\"player-button size-34\\\"><i class=\\\"icon-cogs\\\"></i></div><div id=\\\"fwd-button\\\" title=\\\"play next track\\\" class=\\\"player-button size-26\\\"><i class=\\\"icon-forward\\\"></i></div></div><div class=\\\"player-element\\\"><div class=\\\"progress-side\\\"><div id=\\\"loop-button\\\" title=\\\"no-repeat/repeat-all/repeat-one\\\" class=\\\"progress-side-control\\\"><i class=\\\"icon-refresh\\\"></i></div><div class=\\\"time left\\\"><span id=\\\"elapsedTime\\\"></span></div></div><div class=\\\"progress-info\\\"><div class=\\\"id3-info\\\">-</div><div class=\\\"progress\\\"><div class=\\\"inner\\\"></div></div></div><div class=\\\"progress-side\\\"><div id=\\\"random-button\\\" title=\\\"randomize\\\" class=\\\"progress-side-control\\\"><i class=\\\"icon-random\\\"></i></div><div class=\\\"time right\\\"><span id=\\\"remainingTime\\\"></span></div></div></div><div class=\\\"player-element\\\"><span id=\\\"volume\\\"></span></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"volume-switch-button\\\" title=\\\"mute/unmute\\\"><i class=\\\"icon-volume-up\\\"></i></div><div class=\\\"slider\\\"><div class=\\\"slider-container\\\"><div class=\\\"slider-inner\\\"><div class=\\\"slider-handle\\\"></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"viewport\\\"><table><thead><tr><th id=\\\"playlist-play\\\" title=\\\"push playlist in the play queue\\\" class=\\\"left\\\"><i class=\\\"icon-play\\\"></i></th><th class=\\\"field title\\\">Title</th><th class=\\\"field artist\\\">Artist</th><th class=\\\"field album\\\">Album</th><th class=\\\"field num\\\">#</th><th class=\\\"right\\\"></th></tr></thead><tbody id=\\\"track-list\\\"></tbody></table></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<td id=\\\"state\\\" class=\\\"left\\\"><div id=\\\"play-track-button\\\" title=\\\"queue this song\\\" class=\\\"player-button size-20\\\"><i class=\\\"icon-share-alt\\\"></i></div></td><td class=\\\"field title\\\">\" + (jade.escape((jade_interp = model.title) == null ? '' : jade_interp)) + \"</td><td class=\\\"field artist\\\">\" + (jade.escape((jade_interp = model.artist) == null ? '' : jade_interp)) + \"</td><td class=\\\"field album\\\">\" + (jade.escape((jade_interp = model.album) == null ? '' : jade_interp)) + \"</td><td class=\\\"field num\\\">\" + (jade.escape((jade_interp = model.track) == null ? '' : jade_interp)) + \"</td><td class=\\\"right\\\"><div id=\\\"delete-button\\\" title=\\\"remove\\\" class=\\\"player-button size-20 signal-button\\\"><i class=\\\"icon-remove\\\"></i></div></td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<a\" + (jade.attr(\"href\", \"#playlist/\" + (model.id) + \"\", true, false)) + \"><li\" + (jade.attr(\"title\", \"\" + (model.title) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = model.title) == null ? '' : jade_interp)) + \"<div title=\\\"select playlist : track will be added to this playlist when clicking on the + button\\\" class=\\\"off-screen-nav-button select-playlist-button\\\"></div><div title=\\\"delete definitively\\\" class=\\\"off-screen-nav-button delete-playlist-button\\\"></div></li></a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"viewport\\\"><table><thead><tr><th class=\\\"left\\\"><div title=\\\"save as playlist\\\" class=\\\"thead-button save-button\\\"></div><div title=\\\"show/hide previously played\\\" class=\\\"thead-button show-prev-button\\\"></div></th><th class=\\\"field title\\\">Title</th><th class=\\\"field artist\\\">Artist</th><th class=\\\"field album\\\">Album</th><th class=\\\"field num\\\">#</th><th class=\\\"right\\\"><div title=\\\"clear the queue\\\" class=\\\"thead-button clear\\\"></div></th></tr></thead><tbody id=\\\"track-list\\\"></tbody></table></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<td id=\\\"state\\\" class=\\\"left\\\"><div id=\\\"mini-play-button\\\" title=\\\"play from here\\\" class=\\\"player-button size-20\\\"><i class=\\\"icon-play\\\"></i></div></td><td class=\\\"field title\\\">\" + (jade.escape((jade_interp = model.title) == null ? '' : jade_interp)) + \"</td><td class=\\\"field artist\\\">\" + (jade.escape((jade_interp = model.artist) == null ? '' : jade_interp)) + \"</td><td class=\\\"field album\\\">\" + (jade.escape((jade_interp = model.album) == null ? '' : jade_interp)) + \"</td><td class=\\\"field num\\\">\" + (jade.escape((jade_interp = model.track) == null ? '' : jade_interp)) + \"</td><td class=\\\"right\\\"><div id=\\\"delete-button\\\" title=\\\"remove\\\" class=\\\"player-button size-20 signal-button\\\"><i class=\\\"icon-remove\\\"></i></div><div id=\\\"delete-from-here-button\\\" title=\\\"clear from here\\\" class=\\\"player-button size-20 signal-button\\\"><i class=\\\"icon-arrow-down\\\"></i></div></td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<a href=\\\"#\\\" title=\\\"go to your songs\\\"><div id=\\\"top-nav-title-home\\\" class=\\\"top-nav-title\\\"><span class=\\\"top-nav-text\\\">COZIC&nbsp;</span><i class=\\\"icon-home\\\"></i></div></a><a href=\\\"#playqueue\\\" title=\\\"go to the play queue\\\"><div id=\\\"top-nav-title-list\\\" class=\\\"top-nav-title\\\"><span class=\\\"top-nav-text\\\">Up Next&nbsp;</span><i class=\\\"icon-list\\\"></i></div></a><div id=\\\"top-nav-title-list\\\" class=\\\"top-nav-title\\\"><input id=\\\"uploader\\\" name=\\\"test\\\" type=\\\"file\\\" multiple=\\\"multiple\\\" accept=\\\"audio/*\\\"/><i class=\\\"icon-cloud-upload\\\"></i></div><div id=\\\"youtube-import\\\" title=\\\"import sounds from Youtube\\\" class=\\\"top-nav-title\\\"><span class=\\\"top-nav-text\\\">Youtube&nbsp;</span><i class=\\\"icon-youtube\\\"></i></div><div id=\\\"broadcast\\\" title=\\\"broadcast your cozic\\\" class=\\\"top-nav-title\\\"><span class=\\\"top-nav-text\\\">Broadcast&nbsp;</span><i class=\\\"icon-rss\\\"></i></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"viewport\\\"><table><thead><tr><th class=\\\"left\\\"></th><th class=\\\"field title\\\">Title</th><th class=\\\"field artist\\\">Artist</th><th class=\\\"field album\\\">Album</th><th class=\\\"field num\\\">#</th><th class=\\\"right\\\"></th></tr></thead><tbody id=\\\"track-list\\\"></tbody></table></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<td id=\\\"state\\\" class=\\\"left\\\"></td><td class=\\\"field title\\\">\" + (jade.escape((jade_interp = model.title) == null ? '' : jade_interp)) + \"</td><td class=\\\"field artist\\\">\" + (jade.escape((jade_interp = model.artist) == null ? '' : jade_interp)) + \"</td><td class=\\\"field album\\\">\" + (jade.escape((jade_interp = model.album) == null ? '' : jade_interp)) + \"</td><td class=\\\"field num\\\">\" + (jade.escape((jade_interp = model.track) == null ? '' : jade_interp)) + \"</td><td class=\\\"right\\\"><div id=\\\"delete-button\\\" title=\\\"remove\\\" class=\\\"player-button size-20 signal-button\\\"><i class=\\\"icon-remove\\\"></i></div></td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"viewport\\\"><table><thead><tr><th class=\\\"left\\\"></th><th class=\\\"field title clickable-cell\\\">Title</th><th title=\\\"plays counter\\\" class=\\\"field plays clickable-cell\\\">#</th><th class=\\\"field artist clickable-cell\\\">Artist</th><th class=\\\"field album clickable-cell\\\">Album</th><th title=\\\"track number\\\" class=\\\"field num\\\">#</th><th class=\\\"right\\\"></th></tr></thead><tbody id=\\\"track-list\\\"></tbody></table></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<td id=\\\"state\\\" class=\\\"left\\\"><div id=\\\"add-to-button\\\" title=\\\"add to playlist\\\" class=\\\"player-button size-20\\\"><i class=\\\"icon-plus\\\"></i></div><div id=\\\"play-track-button\\\" title=\\\"queue this song\\\" class=\\\"player-button size-20\\\"><i class=\\\"icon-share-alt\\\"></i></div></td><td class=\\\"field title\\\"><input type=\\\"text\\\"\" + (jade.attr(\"value\", \"\" + (model.title) + \"\", true, false)) + \" readonly=\\\"readonly\\\" class=\\\"mousetrap\\\"/></td><td class=\\\"field plays\\\">\" + (jade.escape((jade_interp = model.plays) == null ? '' : jade_interp)) + \"</td><td class=\\\"field artist\\\"><input type=\\\"text\\\"\" + (jade.attr(\"value\", \"\" + (model.artist) + \"\", true, false)) + \" readonly=\\\"readonly\\\" class=\\\"mousetrap\\\"/></td><td class=\\\"field album\\\"><input type=\\\"text\\\"\" + (jade.attr(\"value\", \"\" + (model.album) + \"\", true, false)) + \" readonly=\\\"readonly\\\" class=\\\"mousetrap\\\"/><div id=\\\"play-album-button\\\" title=\\\"queue this album\\\" class=\\\"player-button size-20\\\"><i class=\\\"icon-share\\\"></i></div></td><td class=\\\"field num\\\">\" + (jade.escape((jade_interp = model.track) == null ? '' : jade_interp)) + \"</td><td class=\\\"right\\\"><div id=\\\"delete-button\\\" title=\\\"delete definitively\\\" class=\\\"player-button size-20 signal-button\\\"><i class=\\\"icon-remove\\\"></i></div></td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}